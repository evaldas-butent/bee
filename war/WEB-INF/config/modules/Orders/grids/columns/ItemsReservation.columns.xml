<?xml version="1.0" encoding="UTF-8"?>
<g:columns xmlns="http://www.butent.com/column" xmlns:g="http://www.butent.com/grid"
           xmlns:ui="http://www.butent.com/ui">

  <DataColumn name="ExternalCode" />
  <DataColumn name="Article" />

  <DataColumn name="Quantity" visible="true" scale="3">
    <footer aggregate="sum" />
  </DataColumn>

  <DataColumn name="UnitName" caption="=unitShort" flexGrow="0" />

  <DataColumn name="Completed" scale="3" label="=ordCompleted">
    <style>
      <bodyStyle>
        <ui:inline>color:green;</ui:inline>
      </bodyStyle>
    </style>
    <footer aggregate="sum" />
  </DataColumn>

  <CalcColumn name="Uncompleted" type="double" scale="3" label="=ordUncompleted">
    <style>
      <bodyStyle>
        <ui:inline>color:red;</ui:inline>
      </bodyStyle>
    </style>
    <render>
      <ui:expression>row.Quantity>row.Completed ? row.Quantity-row.Completed : ""</ui:expression>
    </render>
  </CalcColumn>

  <DataColumn name="Reserve" />

  <DataColumn name="ItemCost">
    <dynStyle>
      <ui:inline>background-color: #ff5252</ui:inline>
      <ui:expression>row.ItemCost &gt; (row.AmountWoVAT / row.Quantity)</ui:expression>
    </dynStyle>
  </DataColumn>

  <DataColumn name="Price" visible="true">
    <footer expression="row.Quantity * row.Price" />
  </DataColumn>

  <CalcColumn name="ItemPrices" type="string" cellType="html"
              label="=taItemPrices" width="100" exportable="false"
              verticalAlignment="middle" />

  <CalcColumn name="UnitPrice" type="double" label="=unitPrice" format="0.00000">
    <render>
      <ui:expression>row.Price - row.Price * row.Discount / 100 </ui:expression>
    </render>
  </CalcColumn>

  <DataColumn name="Discount">
    <footer evaluator="discount" scale="2" />
  </DataColumn>

  <DataColumn name="VatPlus" width="20" sortable="false"
              caption="+" format="+" carry="true" />

  <DataColumn name="Vat" carry="true" flexGrow="0">
    <footer evaluator="vat" />
  </DataColumn>

  <DataColumn name="VatPercent" width="20" sortable="false"
              caption="%" format="%" carry="true" />

  <PropColumn name="AmountWoVAT" type="double" label="=trdAmountWoVat" scale="2" format="0.00"/>

  <CalcColumn name="Total" type="decimal" caption="=trdAmount"
              scale="2">
    <style>
      <bodyStyle>
        <ui:font>bold</ui:font>
      </bodyStyle>
    </style>
    <renderer type="total" />
    <footer aggregate="sum" />
  </CalcColumn>

  <DataColumn name="Unpacking" readOnly="true">
    <footer aggregate="sum" />
  </DataColumn>

  <RelColumn name="Supplier" newRowEnabled="false" caching="query"
             renderColumns="SupplierName SupplierTypeName" choiceColumns="Name TypeName" />

  <DataColumn name="SupplierTerm" />
  <DataColumn name="Note" />
</g:columns>