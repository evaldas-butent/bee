<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
    <!ENTITY c1 "min-width: 10em;">
    <!ENTITY dt "width: 9em;">
    <!ENTITY flt "width: 21em;">
    <!ENTITY glst "margin-right: 1em;">
    <!ENTITY gitems "<item>-</item><item>=itemType</item><item>=itemGroup</item>">
    ]>
<f:Form xmlns="http://www.butent.com/widget"
        xmlns:f="http://www.butent.com/form"

        name="TradeStockReport" caption="=trdReportStock"
>
  <FlowPanel>
    <HorizontalPanel style="margin-top: 1vh; margin-bottom: 1vh;">
      <cell kind="label">
        <Label text="=date" style="&c1;" />
      </cell>
      <InputDateTime name="Date" style="&dt;" />

      <cell style="padding-left: 3em; vertical-align: top;">
        <CheckBox name="Quantity" text="=quantity" />
      </cell>
      <cell style="padding-left: 1em; padding-right: 2em; vertical-align: top;">
        <CheckBox name="Amount" text="=amount" />
      </cell>

      <cell kind="label">
        <Label text="=price" />
      </cell>
      <ListBox enumKey="ItemPrice" value="-" />

      <cell kind="label">
        <Label text="=currency" />
      </cell>
      <UnboundSelector name="Currency" viewName="Currencies" renderColumns="Name"
                       newRowEnabled="false" editEnabled="false" style="width: 5em;" />
    </HorizontalPanel>

    <Disclosure open="true">
      <Label text="=filters" />
      <Table kind="custom" style="margin-top: 1vh;">
        <col index="0" kind="label" />
        <col index="2" kind="label" />

        <row>
          <Label text="=warehouses" style="&c1;" />
          <MultiSelector name="Warehouses" viewName="Warehouses" renderColumns="Code"
                         choiceColumns="Code Name" newRowEnabled="false" editPopup="true"
                         style="&flt;" summarize="true" />

          <Label text="=itemTypes" />
          <MultiSelector name="Types" viewName="CategoryTree" renderColumns="Name"
                         choiceColumns="ParentName Name" newRowEnabled="false"
                         style="&flt;" summarize="true" />
        </row>

        <row>
          <Label text="=suppliers" style="&c1;" />
          <MultiSelector name="Suppliers" viewName="Companies" renderColumns="Name"
                         choiceColumns="Name TypeName" newRowEnabled="false" editPopup="true"
                         style="&flt;" summarize="true" />

          <Label text="=itemGroups" />
          <MultiSelector name="Groups" viewName="CategoryTree" renderColumns="Name"
                         choiceColumns="ParentName Name" newRowEnabled="false"
                         style="&flt;" summarize="true" />
        </row>

        <row>
          <Label text="=manufacturers" style="&c1;" />
          <MultiSelector name="Manufacturers" viewName="Companies" renderColumns="Name"
                         choiceColumns="Name TypeName" newRowEnabled="false" editPopup="true"
                         style="&flt;" summarize="true" />

          <Label text="=itemCategories" />
          <MultiSelector name="Categories" viewName="CategoryTree" renderColumns="Name"
                         choiceColumns="ParentName Name" newRowEnabled="false"
                         style="&flt;" summarize="true" />
        </row>

        <row>
          <Label text="=receivedDateFrom" style="&c1;" />
          <HorizontalPanel>
            <InputDate name="ReceivedFrom" style="&dt;" summarize="true" />

            <cell kind="label">
              <Label text="=dateToShort" />
            </cell>
            <InputDate name="ReceivedTo" style="&dt;" summarize="true" />
          </HorizontalPanel>

          <Label text="=goods" />
          <MultiSelector name="Items" viewName="Items" filter="!(IsService)"
                         renderColumns="Name Article" newRowEnabled="false" editPopup="true"
                         style="&flt;" summarize="true" />
        </row>

        <row>
          <Label text="=documents" style="&c1;" />
          <MultiSelector name="Documents" viewName="TradeDocuments" renderColumns="Series Number"
                         choiceColumns="Date Series Number" searchableColumns="Number"
                         newRowEnabled="false" editPopup="true" style="&flt;" summarize="true" />

          <Label text="=itemFilter" />
          <InputText name="ItemFilter" style="&flt;" maxLength="256" summarize="true" />
        </row>
      </Table>
    </Disclosure>

    <HorizontalPanel style="margin-top: 2vh;">
      <cell kind="label">
        <Label text="=groupBy" style="&c1;" />
      </cell>

      <ListBox name="Group0" style="&glst;">
        &gitems;
      </ListBox>
      <ListBox name="Group1" style="&glst;">
        &gitems;
      </ListBox>
    </HorizontalPanel>

    <FlowPanel name="DataContainer" style="margin-top: 1vh;" />
  </FlowPanel>
</f:Form>
