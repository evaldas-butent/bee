<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Form [
  <!ENTITY section "margin-top: 5px;">
  <!ENTITY bold "font-weight:bold;">
  <!ENTITY form "PrintLogisticsInvoiceRU">
]>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui"

  name="&form;" caption="Sąskaita LT/RU" disabledActions="save"
  width="70" widthUnit="%" height="90" heightUnit="%" viewName="PrintLogisticsInvoice"
  >
  <FlowPanel class="bee-PrintableForm bee-tr-Invoice-Print"
    style="font-family:Tahoma; font-size:8pt;">
    <css id="&form;">
      .&form;-bank div div:first-child {font-weight: bold;}
      .&form;-bank div div:first-child:before {content:"a.s. / р.с. (Bankas gavėjas / Банк получателя): ";}
      .&form;-bank span:after {content:"; ";}
      .&form;-bank .CurrencyName {font-weight: bold;}
      .&form;-bank .CurrencyName:after {content:" ";}
      .&form;-bank .BankAccount {display: none;}
      .&form;-bank .correspondent .BankAccount {display: inline;}
      .&form;-bank .correspondent .BankName:before {content:"bankas korespondentas / корреспондент банк: ";}
      .&form;-bank .BankCode:before {content:"kodas / код банка: ";}
      .&form;-bank .SWIFTCode:before {content:"SWIFT: ";}
    </css>
    <VerticalPanel>
      <cell style="text-align:center;">
        <Image url="images/HL_logo.jpg" style="width:50%; margin: 1em 0 1em 0;" />
      </cell>
      <cell width="100" widthUnit="%" style="text-align:center; &bold; font-size:medium;">
        <FlowPanel>
          <TextLabel inline="true" style="margin-right: 2px;">
            <render>
              <ui:expression>row.Proforma
                ? 'Sąskaita išankstiniam apmokėjimui Nr. / Проформа №:'
                : 'PVM Sąskaita faktūra Nr. / Счет №:'</ui:expression>
            </render>
          </TextLabel>
          <TextLabel source="InvoiceNo" inline="true">
            <renderToken source="InvoicePrefix" suffix="-" />
            <renderToken source="InvoiceNo" />
          </TextLabel>
        </FlowPanel>
      </cell>
    </VerticalPanel>

    <FlowPanel style="&section;">
      <Table kind="output" style="width:100%;">
        <row>
          <cell>
            <Label html="Ekspeditorius / Экспедитор:" />
          </cell>
          <cell>
            <Label html="Užsakovas / Заказчик:" />
          </cell>
        </row>
        <row>
          <cell style="vertical-align:top; width:50%;">
            <FlowPanel>
              <TextLabel source="SupplierName" style="&bold;">
                <renderToken source="SupplierName" />
                <renderToken source="SupplierType" prefix=", " />
              </TextLabel>
              <TextLabel source="SupplierCode">
                <renderToken source="SupplierCode" prefix="Įm.kodas / КПП: " />
              </TextLabel>
              <TextLabel source="SupplierVatCode">
                <renderToken source="SupplierVatCode" prefix="PVM kodas / ИНН: " />
              </TextLabel>
              <TextLabel source="SupplierAddress">
                <renderToken source="SupplierAddress" prefix="Adresas / Адрес: " />
                <renderToken source="SupplierPostIndex" prefix=", " />
                <renderToken source="SupplierCityName" prefix=", " />
                <renderToken source="SupplierCountryName" prefix=", " />
              </TextLabel>
              <TextLabel source="SupplierPhone">
                <renderToken source="SupplierPhone" prefix="Telefonas / Телефон: " />
              </TextLabel>
              <TextLabel source="SupplierFax">
                <renderToken source="SupplierFax" prefix="Faksas / Факс: " />
              </TextLabel>
              <TextLabel source="SupplierEmail">
                <renderToken source="SupplierEmail" prefix="El.paštas / Эл.почта: " />
              </TextLabel>
              <Label name="BankAccount" class="&form;-bank" />
            </FlowPanel>
          </cell>
          <cell style="vertical-align:top; width:50%;">
            <FlowPanel>
              <TextLabel source="CustomerName" style="&bold;">
                <renderToken source="CustomerName" />
                <renderToken source="CustomerType" prefix=", " />
                <renderToken source="CustomerName2" prefix=" / " />
              </TextLabel>
              <TextLabel source="CustomerCode">
                <renderToken source="CustomerCode" prefix="Įm.kodas / КПП: " />
              </TextLabel>
              <TextLabel source="CustomerVatCode">
                <renderToken source="CustomerVatCode" prefix="PVM kodas / ИНН: " />
              </TextLabel>
              <TextLabel source="CustomerAddress">
                <renderToken source="CustomerAddress" prefix="Adresas / Адрес: " />
                <renderToken source="CustomerPostIndex" prefix=", " />
                <renderToken source="CustomerCityName" prefix=", " />
                <renderToken source="CustomerCountryName" prefix=", " />
                <renderToken source="CustomerAddress2" prefix=" / " addPrefixWhenEmpty="true" />
                <renderToken source="CustomerPostIndex" prefix=", " />
                <renderToken source="CustomerCityName3" prefix=", " />
                <renderToken source="CustomerCountryName3" prefix=", " />
              </TextLabel>
              <TextLabel source="CustomerPhone">
                <renderToken source="CustomerPhone" prefix="Telefonas / Телефон: " />
              </TextLabel>
              <TextLabel source="CustomerFax">
                <renderToken source="CustomerFax" prefix="Faksas / Факс: " />
              </TextLabel>
              <TextLabel source="CustomerEmail">
                <renderToken source="CustomerEmail" prefix="El.paštas / Эл.почта: " />
              </TextLabel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell colSpan="2">
            <FlowPanel>
              <FlowPanel>
                <InlineLabel html="Transporto valst.nr./Aвто. №: " />
                <InlineLabel name="Vehicle" />
              </FlowPanel>
              <FlowPanel>
                <InlineLabel html="Pakrovimo data/Дата погрузки: " />
                <InlineLabel name="LoadingDate" />
              </FlowPanel>
              <FlowPanel>
                <InlineLabel html="Iškrovimo data/Дата разгрузки: " />
                <InlineLabel name="UnloadingDate" />
              </FlowPanel>
            </FlowPanel>
          </cell>
        </row>
        <row>
          <cell colSpan="2">
            <TextLabel source="Notes" />
          </cell>
        </row>
      </Table>
    </FlowPanel>

    <HorizontalPanel style="float:right;">
      <Label html="Data / Дата:" style="&bold;" />
      <DateTimeLabel source="Date" format="DATE_SHORT" />
    </HorizontalPanel>

    <Table kind="output" name="InvoiceDetails" style="&section; width:100%">
      <properties rateCurrency="EUR" />
      <row>
        <cell rowSpan="2">
          <Label text="Nr. / №">
            <properties name="Ordinal" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <FlowPanel>
            <InlineLabel text="Paslauga">
              <properties name="Name" />
            </InlineLabel>
            <InlineLabel text=" / " />
            <InlineLabel text="Услуга">
              <properties name="Name3" />
            </InlineLabel>
          </FlowPanel>
        </cell>
        <cell rowSpan="2">
          <Label text="Maršrutas / Маршрут">
            <properties name="Notes" />
          </Label>
        </cell>
        <Label text="Užsakymo Nr. / Заказ №">
          <properties name="OrderNo" />
        </Label>
        <cell rowSpan="2">
          <Label text="Suma / Сумма">
            <properties name="Amount" />
          </Label>
        </cell>
        <cell rowSpan="2" colSpan="2">
          <Label text="Suma pagal kursą / Сумма по курсу">
            <properties name="RateAmount" />
          </Label>
        </cell>
        <cell rowSpan="2">
          <Label text="PVM / НДС">
            <properties name="Vat" />
          </Label>
        </cell>
      </row>
      <row>
        <Label text="Ref Nr. / Реф.№">
          <properties name="Number" />
        </Label>
      </row>
      <row>
        <cell colSpan="2">
          <FlowPanel>
            <InlineLabel text="Kursas / Курс: " />
            <InlineLabel>
              <properties name="Rate" />
            </InlineLabel>
          </FlowPanel>
        </cell>
        <cell colSpan="2">
          <FlowPanel style="text-align:right;">
            <Label text="Suma / Итого:" />
            <Label text="PVM / НДС:" />
            <Label text="Bendra suma / Сумма итого:" style="&bold;" />
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver; border-left: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="AmountTotal" />
            </Label>
            <Label>
              <properties name="VatTotal" />
            </Label>
            <Label style="&bold;">
              <properties name="Total" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="Currency" />
            </Label>
            <Label>
              <properties name="Currency" />
            </Label>
            <Label style="&bold;">
              <properties name="Currency" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="RateAmountTotal" />
            </Label>
            <Label>
              <properties name="RateVatTotal" />
            </Label>
            <Label>
              <properties name="RateTotal" />
            </Label>
          </FlowPanel>
        </cell>
        <cell style="border-bottom: 1px solid silver; border-right: 1px solid silver;">
          <FlowPanel>
            <Label>
              <properties name="RateCurrency" />
            </Label>
            <Label>
              <properties name="RateCurrency" />
            </Label>
            <Label>
              <properties name="RateCurrency" />
            </Label>
          </FlowPanel>
        </cell>
      </row>
    </Table>

    <HorizontalPanel style="&section; &bold;">
      <InlineLabel html="Prašome šią sąskaitą faktūrą apmokėti" />
      <TextLabel source="CurrencyName" />
      <InlineLabel html="valiuta / Пожалуйста oплатите этот счет" />
      <TextLabel source="CurrencyName" />
      <InlineLabel html="валютой" />
    </HorizontalPanel>

    <TextLabel source="Term" style="&section; &bold; white-space:pre-wrap;">
      <render>
        <ui:function>
if (row.Term) {
  var dt = new Date(row.Term);

  return "Sąskaitą apmokėti iki / Cчет оплатить до: " + dt.getFullYear()
  + "." + (dt.getMonth() &lt; 9 ? "0" : "") + (dt.getMonth() + 1)
  + "." + (dt.getDate() &lt; 10 ? "0" : "") + dt.getDate()
  + " (per/через " + Math.ceil((dt.getTime() - new Date(row.Date).getTime()) / 86400000) + " dien./дней)";
}
return null;
        </ui:function>
      </render>
    </TextLabel>

    <FlowPanel style="&section;">
      <InlineLabel html="Suma žodžiais: " />
      <InlineLabel name="TotalInWords" />
    </FlowPanel>
    <FlowPanel style="&section;">
      <InlineLabel html="Сумма в прописью: " />
      <InlineLabel name="TotalInWordsRU">
        <properties bee_locale="ru" />
      </InlineLabel>
    </FlowPanel>

    <HtmlPanel style="&section;">
      <span style="font-size:smaller; &bold; display:block; white-space:pre-wrap;">
Pastaba:
Šios nuorodos negalioja sąskaitoms su 21 % PVM
0 % PVM tarifas: pagal PVM 1 sr. 45 str.
Be PVM: Pagal PVM įst. 13 (1) str.
Без НДС: “Обратный налог” – по директиве 2006/112/EB
      </span>
      <span style="font-size:smaller; display:block; white-space:pre-wrap;">
Pasibaigus mokėjimo terminui, už kiekvieną uždelstą dieną bus skaičiuojami 0.2% dydžio delspinigiai. /
После периода оплаты за каждый просроченный день будет расти 0,2% пени.
Padarę apmokėjimą prašome raštu atsiųsti pavedimo kopiją. /
Пожалуйста, отправьте нам копию денежного перевода когда сделаете оплату.
      </span>
    </HtmlPanel>

    <Label html="Kiti dokumentai / Другие документы:" style="&section; &bold;" />
    <TextLabel name="Documents" style="white-space:pre-wrap;" />

    <Table kind="output" style="width:100%; margin-top:10px;">
      <row style="&bold;">
        <Label html="Išdavė / Выдан:" />
        <Label html="Gavėjas / Получатель:" />
      </row>
      <row style="font-size:xx-small;">
        <Label html="(vardas, pavardė, pareigos ir parašas / Имя, фамилия, должность и подпись)" />
        <Label html="(vardas, pavardė, pareigos ir parašas / Имя, фамилия, должность и подпись)" />
      </row>
      <row>
        <TextLabel source="Manager" style="margin-top:5px;">
          <renderToken source="ManagerFirstName" />
          <renderToken source="ManagerLastName" />
          <renderToken source="ManagerPosition" prefix=", " />
        </TextLabel>
      </row>
      <row style="font-size:xx-small;">
        <FlowPanel style="height:1px; background-color:black; width:70%;" />
        <FlowPanel style="height:1px; background-color:black; width:70%;" />
      </row>
    </Table>
  </FlowPanel>
</f:Form>