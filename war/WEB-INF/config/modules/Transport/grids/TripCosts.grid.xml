<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<g:Grid xmlns="http://www.butent.com/column" xmlns:g="http://www.butent.com/grid"
  xmlns:ui="http://www.butent.com/ui"

  name="TripCosts" viewName="TripCosts" caption="=trTripCosts" cacheDescription="false"
  >

  <g:columns>
    <RelColumn name="Trip" caption="=trip" caching="none" newRowEnabled="false" />
    <DataColumn name="Date" caption="=date" />

    <RelColumn name="Item" renderColumns="ItemName">
      <footer text="Dienpinigiai:" />
    </RelColumn>
    <DataColumn name="UnitName" />
    <DataColumn name="Quantity" />
    <DataColumn name="Price" format="0.00">
      <editor type="number" currencySource="Currency" />
    </DataColumn>
    <RelColumn name="Currency" />
    <DataColumn name="VatPlus" width="20" sortable="false" horizontalAlignment="center" caption="+">
      <render><ui:expression>row.VatPlus ? '+' : ''</ui:expression></render>
    </DataColumn>
    <DataColumn name="Vat" />
    <DataColumn name="VatPercent" width="20" sortable="false" horizontalAlignment="center" caption="%">
      <render><ui:expression>row.VatPercent ? '%' : ''</ui:expression></render>
    </DataColumn>
    <CalcColumn name="Total" type="decimal" caption="=amount" format="#.00">
      <style>
        <bodyStyle><ui:font>bold</ui:font></bodyStyle>
      </style>
      <renderer type="total" />
      <footer expression="row.OldPrice ? row.Quantity * row.Price : null" />
    </CalcColumn>
    <CalcColumn name="Ratio" type="decimal" caption="Pokytis" format="#.##%">
      <render>
        <ui:expression>
          row.OldPrice &amp;&amp; row.Price ? row.Price / row.OldPrice : null
        </ui:expression>
      </render>
      <footer expression="row.OldPrice ? row.Quantity * row.OldPrice : null" format="#.00" />
    </CalcColumn>

    <DataColumn name="Prefix" />
    <DataColumn name="Number" />
    <RelColumn name="Supplier" />
    <RelColumn name="Country" />
    <RelColumn name="PaymentType" visible="false">
      <editable>
        <ui:expression>!row.Exported</ui:expression>
      </editable>
    </RelColumn>
    <RelColumn name="Driver" newRowEnabled="false" editEnabled="false" visible="false" />

    <DataColumn name="Note" />

    <RelColumn name="Purchase" caption="=trdPurchaseId" readOnly="true" editEnabled="true"
               editViewName="TripPurchaseInvoices" />

    <DataColumn name="ExternalID" visible="false" />

    <RelColumn name="Creator" readOnly="true" />
  </g:columns>

  <g:rowStyle>
    <ui:inline>="color:green"</ui:inline>
    <ui:expression>row.Exported</ui:expression>
  </g:rowStyle>
</g:Grid>
